{"ast":null,"code":"import _regeneratorRuntime from\"/Users/victorsu/repos/simple-weather-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/victorsu/repos/simple-weather-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/victorsu/repos/simple-weather-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(\"College Park\"),_useState2=_slicedToArray(_useState,2),city=_useState2[0],setCity=_useState2[1];function handleSubmit(event){event.preventDefault();console.log(\"changeCity called\");setCity(event.target.location.value);console.log(\"city is \"+city);}useEffect(function(){console.log(\"user effect called\");fetchLocationData(city);},[city]);function fetchLocationData(_x){return _fetchLocationData.apply(this,arguments);}function _fetchLocationData(){_fetchLocationData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(location){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:getInfo(location).then(function(response){console.log(response);});case 1:case\"end\":return _context.stop();}},_callee);}));return _fetchLocationData.apply(this,arguments);}function getInfo(_x2){return _getInfo.apply(this,arguments);}function _getInfo(){_getInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(name){var response,location;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(name,\"&APPID=94ed81b061343f42225830b57876c92c\"),{mode:\"cors\"});case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:location=_context2.sent;return _context2.abrupt(\"return\",location);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);return _context2.abrupt(\"return\",_context2.t0);case 14:case\"end\":return _context2.stop();}},_callee2,null,[[0,10]]);}));return _getInfo.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"location\",children:\"Location:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"location\",name:\"location\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","App","city","setCity","handleSubmit","event","preventDefault","console","log","target","location","value","fetchLocationData","getInfo","then","response","name","fetch","mode","json"],"sources":["/Users/victorsu/repos/simple-weather-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nfunction App() {\n  let [city, setCity] = useState(\"College Park\");\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(\"changeCity called\");\n    setCity(event.target.location.value);\n    console.log(\"city is \" + city);\n  }\n\n  useEffect(() => {\n    console.log(\"user effect called\");\n    fetchLocationData(city);\n  }, [city])\n\n  async function fetchLocationData(location) {\n    getInfo(location).then((response) => {\n      console.log(response);\n    });\n  }\n\n  async function getInfo(name) {\n    try {\n      const response = await fetch(\n        `https://api.openweathermap.org/data/2.5/weather?q=${name}&APPID=94ed81b061343f42225830b57876c92c`,\n        { mode: \"cors\" },\n      );\n      const location = await response.json();\n      return location;\n    } catch (err) {\n      console.log(err);\n      return err;\n    }\n  }\n\n  \n\n  return (\n    <div className=\"App\">\n      <header>\n        <form action=\"\" onSubmit={handleSubmit}>\n          <label htmlFor=\"location\">Location:</label>\n          <input type=\"text\" id=\"location\" name=\"location\"></input>\n          <button type=\"submit\">Submit</button>\n        </form>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"0YAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,wFAEnD,QAASC,IAAG,EAAG,CACb,cAAsBF,QAAQ,CAAC,cAAc,CAAC,wCAAzCG,IAAI,eAAEC,OAAO,eAElB,QAASC,aAAY,CAACC,KAAK,CAAE,CAC3BA,KAAK,CAACC,cAAc,EAAE,CACtBC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAChCL,OAAO,CAACE,KAAK,CAACI,MAAM,CAACC,QAAQ,CAACC,KAAK,CAAC,CACpCJ,OAAO,CAACC,GAAG,CAAC,UAAU,CAAGN,IAAI,CAAC,CAChC,CAEAF,SAAS,CAAC,UAAM,CACdO,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC,CACjCI,iBAAiB,CAACV,IAAI,CAAC,CACzB,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,SAEKU,kBAAiB,iKAAhC,iBAAiCF,QAAQ,mHACvCG,OAAO,CAACH,QAAQ,CAAC,CAACI,IAAI,CAAC,SAACC,QAAQ,CAAK,CACnCR,OAAO,CAACC,GAAG,CAACO,QAAQ,CAAC,CACvB,CAAC,CAAC,CAAC,qDACJ,4DAEcF,QAAO,oIAAtB,kBAAuBG,IAAI,qLAEAC,MAAK,6DAC2BD,IAAI,4CACzD,CAAEE,IAAI,CAAE,MAAO,CAAC,CACjB,QAHKH,QAAQ,uCAISA,SAAQ,CAACI,IAAI,EAAE,QAAhCT,QAAQ,iDACPA,QAAQ,+DAEfH,OAAO,CAACC,GAAG,cAAK,CAAC,qHAGpB,0CAID,mBACE,YAAK,SAAS,CAAC,KAAK,uBAClB,qCACE,cAAM,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAEJ,YAAa,wBACrC,cAAO,OAAO,CAAC,UAAU,UAAC,WAAS,EAAQ,cAC3C,cAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,EAAS,cACzD,eAAQ,IAAI,CAAC,QAAQ,UAAC,QAAM,EAAS,GAChC,EACA,EACL,CAEV,CAEA,cAAeH,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}